<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DATA SOUL | æ•°æ®åˆ†æå¸ˆå¤©èµ‹æµ‹è¯„</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent: #1a1a1a;
            --bg: #f8f8f6;
            --gold: #c5a059;
            --error: #e63946;
        }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background-color: var(--bg);
            color: var(--accent);
            overflow-x: hidden;
        }

        .serif { font-family: 'Noto Serif SC', serif; }

        /* åŠ¨ç”»ç³»ç»Ÿ */
        .fade-in { animation: fadeIn 1.2s cubic-bezier(0.22, 1, 0.36, 1) forwards; }
        .slide-up { animation: slideUp 1s cubic-bezier(0.22, 1, 0.36, 1) forwards; }
        .shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        /* åŠ¨æ€èƒŒæ™¯å±‚ */
        .home-bg {
            position: absolute;
            inset: 0;
            z-index: -1;
            background: 
                radial-gradient(circle at 20% 30%, rgba(197, 160, 89, 0.08) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(0, 0, 0, 0.05) 0%, transparent 40%);
            overflow: hidden;
        }

        .mesh-blob {
            position: absolute;
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(197, 160, 89, 0.12) 0%, transparent 70%);
            filter: blur(80px);
            animation: moveBlob 20s infinite alternate cubic-bezier(0.45, 0, 0.55, 1);
        }

        @keyframes moveBlob {
            0% { transform: translate(-10%, -10%); }
            100% { transform: translate(20%, 30%); }
        }

        .data-grid {
            position: absolute;
            inset: 0;
            background-image: 
                linear-gradient(rgba(0,0,0,0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,0,0,0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            mask-image: radial-gradient(circle at center, black, transparent 80%);
        }

        /* è¾“å…¥æ¡†æ ·å¼ */
        .name-input, .code-input {
            background: transparent;
            border: none;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            text-align: center;
            transition: all 0.4s ease;
            outline: none;
        }
        .name-input:focus, .code-input:focus {
            border-bottom-color: var(--accent);
            letter-spacing: 1px;
        }

        .btn-mag {
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
            backdrop-filter: blur(5px);
        }
        .btn-mag:hover {
            letter-spacing: 2px;
            background-color: #000;
            color: #fff;
            transform: translateY(-2px);
        }

        /* æµ‹è¯„å¡ç‰‡ä¸ç»´åº¦ */
        .dimension-card {
            background: white;
            border: 1px solid #e5e5e5;
            transition: all 0.5s cubic-bezier(0.22, 1, 0.36, 1);
        }
        .dimension-card:hover {
            transform: translateY(-10px);
            border-color: #000;
        }

        .chart-segment {
            height: 6px;
            flex: 1;
            background: #eee;
            transition: all 0.6s ease;
        }
        .chart-segment.active {
            background: var(--gold);
        }

        .grain {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.03;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }
    </style>
</head>
<body>
    <div class="grain"></div>

    <!-- é¦–é¡µ: æ‚å¿—å°é¢ -->
    <div id="home" class="min-h-screen flex flex-col justify-center items-center px-6 relative overflow-hidden">
        <div class="home-bg">
            <div class="data-grid"></div>
            <div class="mesh-blob" style="top: -100px; left: -100px;"></div>
        </div>

        <div class="absolute top-10 left-10 text-xs tracking-[0.3em] font-light">VOLUME 2026 / ISSUE NO.01</div>
        
        <header class="text-center slide-up relative z-10">
            <div class="inline-block px-3 py-1 border border-black/10 text-[10px] tracking-[0.5em] mb-6 opacity-60 uppercase">Career Archetype Quiz 2026</div>
            <h1 class="text-[12vw] md:text-[8vw] serif leading-none mb-4 font-bold tracking-tighter">DATA<br>SOUL.</h1>
            <p class="text-lg md:text-xl font-light tracking-widest uppercase mb-12">æ•°æ®åˆ†æå¸ˆï¼šçµé­‚å¥‘åˆåº¦æµ‹è¯„</p>
            
            <div class="mb-12 flex flex-col items-center">
                <label for="username" class="text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-4">è¯·è¾“å…¥æ‚¨çš„ç§°å‘¼ / NAME</label>
                <input type="text" id="username" class="name-input w-40 py-2 text-xl serif" placeholder="åˆ†æå¸ˆ" maxlength="12">
            </div>

            <button onclick="goToGate()" class="btn-mag px-12 py-4 border border-black text-sm uppercase tracking-widest">
                å¼€å§‹æ¢ç´¢ä¹‹æ—…
            </button>
        </header>

        <div class="absolute bottom-10 right-10 text-[10px] text-gray-400 font-mono">EST. 2026 / DATA-SOUL-SYSTEM</div>
    </div>

    <!-- æˆæƒç•Œé¢ (Gate) -->
    <div id="gate" class="hidden min-h-screen flex flex-col justify-center items-center px-6 relative bg-white">
        <div class="max-w-md w-full text-center slide-up">
            <div class="text-[10px] uppercase tracking-[0.5em] mb-12 text-gray-400">Security / æˆæƒéªŒè¯</div>
            <h2 class="text-3xl serif mb-8">è¯·è¾“å…¥è®¿é—®ç </h2>
            <p class="text-xs text-gray-400 mb-12 leading-relaxed">æ­¤å·¥å…·ä»…ä¾›å†…éƒ¨è¯„ä¼°ä½¿ç”¨ï¼Œè¯·è¾“å…¥æ‚¨çš„ 15 ä½æˆæƒå…‘æ¢ç ä»¥åŒæ­¥æ•°æ®çµé­‚ã€‚</p>
            
            <div class="relative mb-12" id="code-container">
                <input type="password" id="redemption-code" class="code-input w-full py-4 text-center tracking-[0.5em] text-lg" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                <div id="error-msg" class="absolute -bottom-8 left-0 w-full text-[10px] text-red-500 opacity-0 transition-opacity uppercase tracking-widest">è®¿é—®ç æ— æ•ˆï¼Œè¯·é‡æ–°è¾“å…¥</div>
            </div>

            <div class="flex flex-col gap-4">
                <button onclick="verifyAccess()" class="btn-mag px-12 py-4 bg-black text-white text-xs uppercase tracking-widest">éªŒè¯å¹¶å¯åŠ¨</button>
                <button onclick="location.reload()" class="text-[10px] uppercase tracking-widest text-gray-300 hover:text-black transition-colors">å–æ¶ˆ</button>
            </div>
        </div>
    </div>

    <!-- æµ‹è¯•ç•Œé¢ -->
    <div id="quiz-container" class="hidden min-h-screen flex items-center justify-center px-6 bg-[#fff]">
        <div class="max-w-3xl w-full">
            <div class="mb-20">
                <div class="flex justify-between items-end mb-4">
                    <span id="progress-text" class="text-[4rem] serif leading-none text-gray-100">01</span>
                    <div class="text-right">
                        <div id="quiz-user-name" class="text-xs font-bold uppercase tracking-widest mb-1">...</div>
                        <span class="text-[10px] tracking-widest uppercase text-gray-400">Assessment Unit</span>
                    </div>
                </div>
                <div class="w-full h-[1px] bg-gray-100">
                    <div id="progress-bar" class="h-[1px] bg-black transition-all duration-500" style="width: 5%;"></div>
                </div>
            </div>
            <div id="questions"></div>
        </div>
    </div>

    <!-- ç»“æœé¡µé¢ -->
    <div id="result" class="hidden py-24 px-6 md:px-20 bg-[#fbfbfb]">
        <div class="max-w-6xl mx-auto">
            <div class="border-b border-black pb-8 mb-16 flex flex-col md:flex-row justify-between items-end gap-6">
                <div>
                    <h2 class="text-5xl serif mb-4"><span id="result-user-name" class="opacity-50">...</span> Â· <span id="animal-name" class="text-gold">...</span></h2>
                    <p class="text-gray-500 uppercase tracking-widest text-sm">Personal Portrait Report 2026</p>
                </div>
                <div id="keywords" class="flex flex-wrap gap-2"></div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-20 mb-24">
                <div class="slide-up">
                    <div class="aspect-[4/5] bg-white border border-gray-200 relative overflow-hidden flex items-center justify-center shadow-lg">
                        <div id="animal-icon" class="text-[120px] z-10">...</div>
                        <div class="absolute -bottom-10 -right-10 text-[120px] text-gray-50 serif font-bold select-none">2026</div>
                    </div>
                </div>
                <div class="flex flex-col justify-center">
                    <div class="text-xs uppercase tracking-widest text-gray-400 mb-4 font-bold">Archetype Summary</div>
                    <h3 class="text-3xl serif mb-6" id="summary-title">èŒä¸šäººæ ¼è§£æ</h3>
                    <p id="summary-text" class="text-gray-600 leading-relaxed text-lg mb-8"></p>
                    <div class="bg-black text-white p-8">
                        <div class="text-xs uppercase tracking-[0.2em] mb-4 text-gray-400">ä¸»è¦ä¼˜åŠ¿ / Dominant Advantage</div>
                        <div id="main-strength" class="text-xl italic font-serif"></div>
                    </div>
                </div>
            </div>

            <div class="mb-24">
                <h4 class="text-sm uppercase tracking-[0.4em] text-center mb-16 font-bold">æ·±åº¦èƒ½åŠ›å›¾é‰´ / Dimension Spectrum</h4>
                <div id="dimensions-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
            </div>

            <div class="text-center py-20 border-t border-gray-100 flex flex-col items-center gap-6">
                <p class="serif italic text-2xl text-gray-400 mb-8">"æ•°æ®ä¸ä¼šè¯´è¯ï¼Œä½†å®ƒæ˜¯ä½ é€šå¾€çœŸç›¸çš„é˜¶æ¢¯ã€‚"</p>
                <div class="flex gap-8">
                    <button onclick="location.reload()" class="text-xs uppercase tracking-widest border-b border-black pb-1 hover:text-gold hover:border-gold transition-colors">é‡æ–°æµ‹è¯„</button>
                    <button onclick="toggleContact()" class="text-xs uppercase tracking-widest border-b border-black pb-1 hover:text-gold hover:border-gold transition-colors">è”ç³»ä½œè€…</button>
                </div>
            </div>
        </div>
    </div>

    <!-- è”ç³»æˆ‘å¼¹çª— -->
    <div id="contact-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black/80 backdrop-blur-sm opacity-0 transition-opacity duration-300" onclick="toggleContact()">
        <div class="bg-white p-8 max-w-sm mx-auto transform scale-95 transition-transform duration-300" onclick="event.stopPropagation()">
            <div class="text-center">
                <h3 class="serif text-2xl mb-2">Connect With Me</h3>
                <p class="text-xs text-gray-400 uppercase tracking-widest mb-6">Scan QR Code</p>
                <div class="border border-gray-100 p-4 mb-6">
                    <img src="./äºŒç»´ç .png" alt="WeChat QR Code" class="w-full h-auto">
                </div>
                <button onclick="toggleContact()" class="text-xs uppercase tracking-widest hover:text-gold transition-colors">Close</button>
            </div>
        </div>
    </div>

    <script>
        const CORRECT_CODE = "best";
        
        const questions = [
            { q: "å½“ä½ çœ‹åˆ°ä¸€å¼ å¤æ‚çš„è¶‹åŠ¿å›¾è¡¨æ—¶ï¼Œä½ çš„ç¬¬ä¸€ååº”æ˜¯ï¼Ÿ", options: [{ t: "ç›´è§‰å›¾è¡¨æƒ³è¦ä¼ è¾¾çš„æ ¸å¿ƒç»“è®º", s: { insight: 5, comm: 2 } }, { t: "ç«‹åˆ»å¯»æ‰¾åæ ‡è½´åˆ»åº¦å’Œæ•°æ®æ¥æº", s: { detail: 5, logic: 2 } }] },
            { q: "åœ¨å¤„ç†ä¸€å¤§å †ä¹±ç³Ÿç³Ÿçš„æ•°æ®å‰ï¼Œä½ é€šå¸¸ä¼šï¼Ÿ", options: [{ t: "å…ˆåˆ—å‡ºæ¸…æ´—é€»è¾‘å’Œæ­¥éª¤æ¸…å•", s: { logic: 5, tech: 2 } }, { t: "ç›´æ¥åŠ¨æ‰‹åœ¨Excelé‡Œè¯•é”™å¯»æ‰¾çµæ„Ÿ", s: { resilience: 5, insight: 2 } }] },
            { q: "å¯¹äºå­¦ä¹ ä¸€é—¨æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚Python/Rï¼‰ï¼Œä½ çš„æ„Ÿå—æ˜¯ï¼Ÿ", options: [{ t: "é‚£æ˜¯æ¢ç´¢æœªçŸ¥çš„åˆºæ¿€å·¥å…·", s: { tech: 5, resilience: 3 } }, { t: "è™½ç„¶ç¹çä½†ä¸ºäº†ç»“æœå¿…é¡»æŒæ¡", s: { logic: 4, detail: 2 } }] },
            { q: "å½“ä½ çš„åˆ†æç»“è®ºä¸ä¸Šå¸çš„ç›´è§‰ç›¸åæ—¶ï¼Œä½ ä¼šï¼Ÿ", options: [{ t: "ç”¨æ›´ä¸¥è°¨çš„æ•°æ®å›¾è¡¨å’Œé€»è¾‘è¯•å›¾è¯´æœ", s: { comm: 5, logic: 3 } }, { t: "å…ˆåæ€æ˜¯ä¸æ˜¯è‡ªå·±çš„æ•°æ®ç®—é”™äº†", s: { detail: 5, resilience: 2 } }] },
            { q: "ä½ æ›´äº«å—å“ªç§æˆå°±æ„Ÿï¼Ÿ", options: [{ t: "ä»£ç è·‘é€šï¼Œæ¨¡å‹é¢„æµ‹ç²¾åº¦æé«˜", s: { tech: 5, logic: 3 } }, { t: "ä¸šåŠ¡éƒ¨é—¨æ ¹æ®ä½ çš„å»ºè®®æå‡äº†è½¬åŒ–", s: { insight: 5, comm: 3 } }] },
            { q: "é¢å¯¹ä¸€ä¸ªæ²¡æœ‰æ ‡å‡†ç­”æ¡ˆçš„å¼€æ”¾æ€§ä¸šåŠ¡é—®é¢˜ï¼Œä½ ï¼Ÿ", options: [{ t: "å…´å¥‹åœ°æ‹†è§£æ‰€æœ‰å¯èƒ½æ€§", s: { logic: 5, insight: 4 } }, { t: "æ„Ÿåˆ°æœ‰äº›è¿·èŒ«ï¼Œå¸Œæœ›å…ˆçœ‹å†å²æ•°æ®", s: { detail: 4, resilience: 3 } }] },
            { q: "å¦‚æœè¦æŠŠæ•°æ®ç»“æœè®²ç»™éæŠ€æœ¯äººå‘˜å¬ï¼Œä½ ä¼šï¼Ÿ", options: [{ t: "å°½é‡ç”¨æ¯”å–»å’Œé€šä¿—æ˜“æ‡‚çš„æ•…äº‹", s: { comm: 5, insight: 3 } }, { t: "åšæŒç”¨ç²¾ç¡®çš„æ•°æ®å®šä¹‰ï¼Œé˜²æ­¢è¯¯è¯»", s: { detail: 5, logic: 2 } }] },
            { q: "ä½ å¯¹â€œè‡ªåŠ¨åŒ–â€çš„çœ‹æ³•æ˜¯ï¼Ÿ", options: [{ t: "æè‡´çš„æ•ˆç‡è¿½æ±‚ï¼Œè®¨åŒé‡å¤é€ è½®å­", s: { tech: 5, logic: 4 } }, { t: "æ‰‹åŠ¨æ“ä½œæ›´èƒ½ç¡®ä¿æ¯ä¸€ä¸ªç»†èŠ‚æ— è¯¯", s: { detail: 5, resilience: 2 } }] },
            { q: "å½“é‡åˆ°æ— æ³•è§£é‡Šçš„æ•°æ®å¼‚å¸¸å€¼æ—¶ï¼Ÿ", options: [{ t: "å¿…é¡»æ‰“ç ´ç ‚é”…é—®åˆ°åº•æ‰¾åˆ°æ ¹å› ", s: { resilience: 5, detail: 4 } }, { t: "å¦‚æœå æ¯”å°ï¼Œå¯ä»¥è€ƒè™‘å…ˆå‰”é™¤", s: { insight: 4, comm: 2 } }] },
            { q: "ä½ æ›´åå‘äºï¼Ÿ", options: [{ t: "å‘ç°éšè—åœ¨æ•°å­—ä¸‹çš„è§„å¾‹", s: { logic: 5, insight: 5 } }, { t: "ç¡®ä¿è¾“å‡ºçš„æ¯ä¸€ä»½æŠ¥è¡¨ç»å¯¹ç²¾å‡†", s: { detail: 5, tech: 3 } }] },
            { q: "ç©ç­–ç•¥ç±»æ¸¸æˆï¼ˆå¦‚è±¡æ£‹ã€ç‹¼äººæ€ã€æ–‡æ˜ï¼‰æ—¶ï¼Ÿ", options: [{ t: "ä½ æ˜¯é‚£ä¸ªè®¡ç®—åä¸‰æ­¥çš„äºº", s: { logic: 5, tech: 2 } }, { t: "ä½ æ˜¯è§‚å¯Ÿå¯¹æ‰‹å¿ƒç†çš„äºº", s: { insight: 5, comm: 3 } }] },
            { q: "ä½ å¦‚ä½•çœ‹å¾…PPTåˆ¶ä½œï¼Ÿ", options: [{ t: "å®ƒæ˜¯ç»“è®ºçš„åˆ†å‘æ¸ é“ï¼Œéå¸¸é‡è¦", s: { comm: 5, insight: 2 } }, { t: "å¦‚æœç»“è®ºè¶³å¤Ÿç¡¬ï¼Œæ’ç‰ˆä¸åº”å å¤ªå¤šæ—¶é—´", s: { tech: 4, detail: 2 } }] },
            { q: "é¢å¯¹å‡ åƒè¡Œçš„ExcelæŠ¥é”™ï¼Œä½ çš„æƒ…ç»ªæ³¢åŠ¨æ˜¯ï¼Ÿ", options: [{ t: "å†·é™åœ°åƒä¸ªå¤–ç§‘åŒ»ç”Ÿ", s: { resilience: 5, logic: 3 } }, { t: "ä¼šæœ‰ä¸€ç¬é—´æƒ³ç ¸ç”µè„‘ï¼Œä½†é©¬ä¸Šå¼€ä¿®", s: { tech: 4, resilience: 4 } }] },
            { q: "ä½ æ›´å–œæ¬¢è¯»å“ªç§ä¹¦ï¼Ÿ", options: [{ t: "ä¸¥è°¨çš„ç§‘æ™®æˆ–æ–¹æ³•è®º", s: { logic: 5, detail: 3 } }, { t: "å……æ»¡æ´å¯Ÿçš„äººç”Ÿä¼ è®°æˆ–å°è¯´", s: { insight: 5, comm: 3 } }] },
            { q: "å¯¹äºâ€œå¤§æ¦‚â€ã€â€œå·¦å³â€è¿™ç±»è¯æ±‡ï¼Ÿ", options: [{ t: "åœ¨åˆ†æç»“è®ºä¸­æåº¦åæ„Ÿå‡ºç°", s: { detail: 5, logic: 3 } }, { t: "åœ¨äº¤æµå®è§‚è¶‹åŠ¿æ—¶å¯ä»¥æ¥å—", s: { comm: 4, insight: 4 } }] },
            { q: "ä½ åœ¨æ•´ç†è‡ªå·±çš„ä¸ªäººæ–‡ä»¶æˆ–æ‰‹æœºAppæ—¶ï¼Ÿ", options: [{ t: "æœ‰ä¸¥æ ¼çš„æ–‡ä»¶å¤¹åˆ†ç±»ç³»ç»Ÿ", s: { detail: 5, logic: 4 } }, { t: "æœç´¢æ¡†å°±æ˜¯æˆ‘æœ€å¥½çš„å·¥å…·", s: { tech: 4, insight: 3 } }] },
            { q: "ä½ è®¤ä¸ºæ•°æ®åˆ†æå¸ˆçš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼Ÿ", options: [{ t: "çœŸå®å®¢è§‚åœ°è®°å½•å‘ç”Ÿè¿‡ä»€ä¹ˆ", s: { detail: 5, tech: 3 } }, { t: "ç»™å‡ºé¢„æµ‹å¹¶å‘Šè¯‰ä¸šåŠ¡è¯¥æ€ä¹ˆåš", s: { insight: 5, comm: 4 } }] },
            { q: "å¦‚æœä½ å‘ç°æ¨¡å‹æœ‰ä¸€ä¸ª1%çš„è¯¯å·®éšæ‚£ï¼Ÿ", options: [{ t: "ä¸ä¿®å¤å®ƒä»Šæ™šè‚¯å®šç¡ä¸ç€è§‰", s: { detail: 5, resilience: 4 } }, { t: "è¯„ä¼°ä¸šåŠ¡å½±å“ï¼Œå…ˆå‘ŠçŸ¥é£é™©å†ä¿®", s: { insight: 4, comm: 3 } }] },
            { q: "å…³äºæ•°å­¦ï¼Ÿ", options: [{ t: "è¿·æ‹é‚£äº›å…¬å¼èƒŒåçš„å®Œç¾å¹³è¡¡æ„Ÿ", s: { logic: 5, tech: 4 } }, { t: "å®ƒæ˜¯æˆ‘è§£å†³é—®é¢˜çš„æ­¦å™¨åº“", s: { tech: 5, insight: 3 } }] },
            { q: "åœ¨å›¢é˜Ÿä¸­ï¼Œä½ å¸Œæœ›æ‰®æ¼”ï¼Ÿ", options: [{ t: "æä¾›æ ¸å¿ƒæ´å¯Ÿçš„â€œå…ˆçŸ¥â€", s: { insight: 5, comm: 4 } }, { t: "ç¡®ä¿ä¸‡æ— ä¸€å¤±çš„â€œå‹èˆ±çŸ³â€", s: { detail: 5, resilience: 4 } }] },
            { q: "é¢å¯¹ä¸€ä¸ªæ–°çš„æ•°æ®åˆ†æå·¥å…·å‘å¸ƒæ—¶ï¼Ÿ", options: [{ t: "é©¬ä¸Šä¸‹è½½è¯•ç”¨ï¼Œçœ‹çœ‹æœ‰ä»€ä¹ˆæ–°ç‰¹æ€§", s: { tech: 5, insight: 3 } }, { t: "ç­‰åˆ«äººè¯„æµ‹æˆ–è€…å…¬å¸å¼•å…¥åå†å­¦", s: { logic: 4, detail: 2 } }] },
            { q: "å½“ä¸šåŠ¡æ–¹åœ¨é¡¹ç›®äº¤ä»˜å‰ä¸€æ™šçªç„¶ä¿®æ”¹éœ€æ±‚ï¼Ÿ", options: [{ t: "æ·±å¸ä¸€å£æ°”ï¼Œè¯„ä¼°å½±å“èŒƒå›´å¹¶åå•†æ’æœŸ", s: { resilience: 5, comm: 4 } }, { t: "è™½ç„¶å¾ˆçƒ¦ï¼Œä½†ä¸ºäº†æ»¡è¶³ä¸šåŠ¡éœ€æ±‚è¿å¤œä¿®æ”¹", s: { detail: 4, comm: 2 } }] },
            { q: "ä½ è®¤ä¸ºä¸€ä¸ªå¥½çš„ä»ªè¡¨ç›˜ï¼ˆDashboardï¼‰æœ€é‡è¦çš„æ˜¯ï¼Ÿ", options: [{ t: "äº¤äº’æµç•…ï¼Œè§†è§‰æ•ˆæœæƒŠè‰³", s: { tech: 4, comm: 4 } }, { t: "æŒ‡æ ‡é€‰å–ç²¾å‡†ï¼Œèƒ½ç›´æ¥åæ˜ ä¸šåŠ¡é—®é¢˜", s: { insight: 5, logic: 3 } }] },
            { q: "åœ¨ä¼šè®®ä¸Šï¼Œä½ å‘ç°åˆ«äººçš„æ•°æ®æŠ¥å‘Šé€»è¾‘æœ‰æ¼æ´ï¼Ÿ", options: [{ t: "å½“åœºæŒ‡å‡ºï¼Œé¿å…é”™è¯¯çš„ç»“è®ºè¯¯å¯¼å†³ç­–", s: { logic: 5, detail: 3 } }, { t: "ä¼šåç§ä¸‹æ²Ÿé€šï¼Œç»™å¯¹æ–¹ç•™é¢å­", s: { comm: 5, insight: 3 } }] },
            { q: "å¯¹äºâ€œç›´è§‰â€åœ¨æ•°æ®åˆ†æä¸­çš„ä½œç”¨ï¼Ÿ", options: [{ t: "ç›´è§‰å¾€å¾€æ˜¯ç»éªŒçš„ç§¯ç´¯ï¼Œå¯ä»¥ä½œä¸ºå‡è®¾çš„èµ·ç‚¹", s: { insight: 5, comm: 3 } }, { t: "æ•°æ®é¢å‰æ²¡æœ‰ç›´è§‰ï¼Œä¸€åˆ‡ä»¥ç»Ÿè®¡æ£€éªŒä¸ºå‡†", s: { logic: 5, detail: 4 } }] },
            { q: "ä½ æ›´ä¹ æƒ¯çš„å·¥ä½œç¯å¢ƒæ˜¯ï¼Ÿ", options: [{ t: "å®‰é™çš„è§’è½ï¼Œæˆ´ç€è€³æœºæ²‰æµ¸åœ¨ä»£ç ä¸–ç•Œ", s: { tech: 5, detail: 3 } }, { t: "å¼€æ”¾å¼åŠå…¬åŒºï¼Œéšæ—¶å¯ä»¥å’ŒåŒäº‹è®¨è®ºä¸šåŠ¡", s: { comm: 5, insight: 4 } }] },
            { q: "å¦‚æœè®©ä½ é€‰æ‹©ä¸€ä¸ªè¶…èƒ½åŠ›ï¼Ÿ", options: [{ t: "ç¬é—´æ¸…æ´—å®Œæ‰€æœ‰è„æ•°æ®", s: { detail: 5, tech: 4 } }, { t: "ä¸€çœ¼çœ‹ç©¿æ•°æ®èƒŒåçš„å•†ä¸šæœºä¼š", s: { insight: 5, logic: 3 } }] },
            { q: "é¢å¯¹å¤æ‚çš„SQLæŸ¥è¯¢ï¼Œä½ æ›´å€¾å‘äºï¼Ÿ", options: [{ t: "å†™ä¸€ä¸ªå·¨å¤§çš„åµŒå¥—æŸ¥è¯¢ï¼Œä¸€æ¬¡æå®š", s: { tech: 5, logic: 3 } }, { t: "æ‹†åˆ†æˆå¤šä¸ªä¸´æ—¶è¡¨ï¼Œæ­¥éª¤æ¸…æ™°æ˜“ç»´æŠ¤", s: { detail: 5, comm: 3 } }] },
            { q: "ä½ å¦‚ä½•çœ‹å¾…â€œæ•°æ®é©±åŠ¨â€è¿™ä¸ªå£å·ï¼Ÿ", options: [{ t: "å®ƒæ˜¯ä¼ä¸šæ•°å­—åŒ–è½¬å‹çš„å¿…ç»ä¹‹è·¯", s: { insight: 4, comm: 4 } }, { t: "å¾ˆå¤šæ—¶å€™å£å·å¤§äºå®é™…ï¼Œè½åœ°å¾ˆéš¾", s: { logic: 5, resilience: 3 } }] },
            { q: "å®Œæˆä¸€ä¸ªé¡¹ç›®åï¼Œä½ æœ€æƒ³åšçš„æ˜¯ï¼Ÿ", options: [{ t: "æ•´ç†æ–‡æ¡£å’Œä»£ç ï¼Œå½’æ¡£å¤ç›˜", s: { detail: 5, logic: 3 } }, { t: "å’Œå›¢é˜Ÿåº†ç¥ï¼Œåˆ†äº«æˆåŠŸçš„å–œæ‚¦", s: { comm: 5, resilience: 3 } }] }
        ];

        let currentIdx = 0;
        let scores = { logic: 0, tech: 0, detail: 0, comm: 0, resilience: 0, insight: 0 };
        let userAnswers = [];
        let finalUserName = '';

        function goToGate() {
            finalUserName = document.getElementById('username').value.trim() || 'åˆ†æå¸ˆ';
            document.getElementById('home').classList.add('hidden');
            document.getElementById('gate').classList.remove('hidden');
        }

        function verifyAccess() {
            const input = document.getElementById('redemption-code').value;
            const container = document.getElementById('code-container');
            const error = document.getElementById('error-msg');

            if (input === CORRECT_CODE) {
                startQuiz();
            } else {
                container.classList.add('shake');
                error.style.opacity = '1';
                setTimeout(() => {
                    container.classList.remove('shake');
                }, 500);
            }
        }

        function startQuiz() {
            document.getElementById('gate').classList.add('hidden');
            document.getElementById('quiz-container').classList.remove('hidden');
            document.getElementById('quiz-user-name').innerText = finalUserName;
            renderQuestion();
        }

        function renderQuestion() {
            const q = questions[currentIdx];
            const html = `
                <div class="question-card active slide-up">
                    <h2 class="text-3xl md:text-4xl serif mb-12 leading-tight">${q.q}</h2>
                    <div class="flex flex-col gap-4">
                        ${q.options.map((opt, i) => `
                            <button onclick="handleSelect(${i})" class="group text-left p-6 border border-gray-100 hover:border-black transition-all flex justify-between items-center bg-gray-50/30 hover:bg-white">
                                <span class="text-lg font-light">${opt.t}</span>
                                <span class="opacity-0 group-hover:opacity-100 transition-opacity">â†’</span>
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
            document.getElementById('questions').innerHTML = html;
            document.getElementById('progress-text').innerText = (currentIdx + 1).toString().padStart(2, '0');
            document.getElementById('progress-bar').style.width = `${((currentIdx + 1) / questions.length) * 100}%`;
        }

        function handleSelect(optIdx) {
            const s = questions[currentIdx].options[optIdx].s;
            for (let key in s) scores[key] += s[key];

            userAnswers.push({
                q: questions[currentIdx].q,
                a: questions[currentIdx].options[optIdx].t
            });

            if (currentIdx < questions.length - 1) {
                currentIdx++;
                renderQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('result').classList.remove('hidden');
            document.getElementById('result-user-name').innerText = finalUserName;

            const maxDimension = Object.entries(scores).reduce((a, b) => a[1] > b[1] ? a : b);
            const data = generateResultData(maxDimension[0]);

            // Keep local visual elements
            document.getElementById('animal-name').innerText = data.animal;
            document.getElementById('animal-icon').innerText = data.icon;
            document.getElementById('summary-title').innerText = `${finalUserName}çš„èŒä¸šäººæ ¼è§£æ`;
            document.getElementById('summary-text').innerText = data.summary;
            document.getElementById('main-strength').innerText = data.strength;
            
            document.getElementById('keywords').innerHTML = data.keywords.map(k => 
                `<span class="px-4 py-1.5 border border-black text-[10px] uppercase font-bold tracking-widest">${k}</span>`
            ).join('');

            // Render Chart locally
            const dims = [
                { id: 'logic', label: 'é€»è¾‘å»ºæ¨¡' }, { id: 'insight', label: 'ä¸šåŠ¡æ´å¯Ÿ' },
                { id: 'tech', label: 'å·¥å…·æŠ€æœ¯' }, { id: 'detail', label: 'ç»†èŠ‚ä¸¥è°¨' },
                { id: 'comm', label: 'æ•…äº‹è®²è¿°' }, { id: 'resilience', label: 'æŠ—å‹éŸ§æ€§' }
            ];

            document.getElementById('dimensions-grid').innerHTML = dims.map(d => {
                const val = Math.min(100, (scores[d.id] || 0) * 4);
                const segs = 10;
                const act = Math.round((val / 100) * segs);
                return `
                    <div class="dimension-card p-8">
                        <div class="flex justify-between items-end mb-6">
                            <h5 class="text-[10px] uppercase tracking-[0.3em] font-black">${d.label}</h5>
                            <span class="text-xl serif text-gold font-bold">${val}%</span>
                        </div>
                        <div class="flex gap-1 mb-6">
                            ${Array.from({length: segs}).map((_, i) => `<div class="chart-segment ${i < act ? 'active' : ''}"></div>`).join('')}
                        </div>
                        <p class="text-xs text-gray-400 leading-relaxed italic">${getDimText(d.id, val)}</p>
                    </div>
                `;
            }).join('');
            
            window.scrollTo(0,0);
        }

        function generateResultData(top) {
            const map = {
                logic: { animal: "æ·±æµ·ç« é±¼", icon: "ğŸ™", keywords: ["Matrix", "Logic"], summary: `ä½ åœ¨æ•°æ®ä¸­å±•ç°äº†æå¼ºçš„ç³»ç»Ÿæ€ç»´ã€‚å³ä¾¿åœ¨æ··æ²Œçš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œ${finalUserName}æ€»èƒ½è¿…é€Ÿå»ºç«‹èµ·ç»“æ„åŒ–çš„é€»è¾‘æ¨¡å‹ã€‚`, strength: "èƒ½å°†æ··æ²Œçš„ä¸šåŠ¡è½¬åŒ–ä¸ºæ¸…æ™°çš„æ•°å­¦é€»è¾‘ã€‚" },
                insight: { animal: "é›ªåœ°çŒé¹°", icon: "ğŸ¦…", keywords: ["Vision", "Sharp"], summary: `${finalUserName}å¯¹æ•°å­—èƒŒåçš„æ„ä¹‰æœ‰ç€è¿‘ä¹ç›´è§‰çš„æ•æ„Ÿã€‚å°±åƒçŒé¹°ä¿¯ç°å¤§åœ°ï¼Œä½ æ€»èƒ½æ•æ‰é‚£ä¸€æŠ¹çµå…‰ã€‚`, strength: "ä¸€çœ¼çœ‹ç©¿æŠ¥è¡¨èƒŒåéšè—çš„å¸‚åœºå•†æœºã€‚" },
                tech: { animal: "æœºæ¢°å·¥èœ‚", icon: "ğŸ", keywords: ["Efficiency", "Auto"], summary: `æ•ˆç‡æ˜¯${finalUserName}çš„ä¿¡ä»°ã€‚ä½ æ“…é•¿ç”¨ä»£ç æ„å»ºé«˜æ•ˆçš„è‡ªåŠ¨åŒ–ä½“ç³»ï¼Œå°†é‡å¤åŠ³åŠ¨åŒ–ä¸ºä¹Œæœ‰ã€‚`, strength: "èƒ½å°†å¤æ‚çš„åˆ†ææµç¨‹å…¨è‡ªåŠ¨åŒ–ï¼Œå®ç°æ•ˆç‡æè‡´ã€‚" },
                detail: { animal: "é‡‘ç›çŒ«å¤´é¹°", icon: "ğŸ¦‰", keywords: ["Purity", "Focus"], summary: `åœ¨ä½ çš„çœ¼ä¸­ï¼Œ0.1%çš„è¯¯å·®ä¹Ÿæ˜¯ä¸å¯æ¥å—çš„ã€‚${finalUserName}æ˜¯å›¢é˜Ÿäº§å‡ºæœ€åä¸€é“ç¨³å›ºçš„å±éšœã€‚`, strength: "åœ¨ç™¾ä¸‡è¡Œæ•°æ®ä¸­ç²¾å‡†æ•æ‰åˆ°é‚£ä¸€è¡Œè‡´å‘½çš„æ ¼å¼é”™è¯¯ã€‚" },
                comm: { animal: "æ·±æµ·æµ·è±š", icon: "ğŸ¬", keywords: ["Story", "Bridge"], summary: `${finalUserName}æ“…é•¿åœ¨å†°å†·çš„æ•°å­—ä¸æ¸©çƒ­çš„å†³ç­–ä¹‹é—´æ¶èµ·æ¡¥æ¢ã€‚ä½ ä¸ä»…åœ¨åˆ†æï¼Œä½ æ›´åœ¨è°±å†™é€»è¾‘ä¹‹è¯—ã€‚`, strength: "è®©å®Œå…¨ä¸æ‡‚æŠ€æœ¯çš„è€æ¿å¬æ‡‚æœ€å¤æ‚çš„å›å½’åˆ†æã€‚" },
                resilience: { animal: "è’åŸç‹¼", icon: "ğŸº", keywords: ["Grit", "Will"], summary: `é¢å¯¹è„æ•°æ®å’Œåå¤çš„éœ€æ±‚å˜æ›´ï¼Œ${finalUserName}å±•ç°äº†è’åŸç‹¼èˆ¬çš„è€å—åŠ›ã€‚ä½ äº«å—è§£å†³éš¾é¢˜åçš„çº¯ç²¹æˆå°±æ„Ÿã€‚`, strength: "åœ¨æ·±å¤œæ’æŸ¥Bugåä¾ç„¶èƒ½ä¿æŒæ€è€ƒçš„æ¸…é†’ã€‚" }
            };
            return map[top] || map.logic;
        }

        function getDimText(id, val) {
            return val > 80 ? "å“è¶Šï¼šå…·å¤‡è¡Œä¸šé¡¶å°–æ½œè´¨ã€‚" : (val > 50 ? "ä¼˜ç§€ï¼šå·²å…·å¤‡ä¸“ä¸šç´ å…»ã€‚" : "å°šå¯ï¼šæœ‰è¾ƒå¤§æˆé•¿ç©ºé—´ã€‚");
        }

        function toggleContact() {
            const modal = document.getElementById('contact-modal');
            if (modal.classList.contains('hidden')) {
                modal.classList.remove('hidden');
                // å¼ºåˆ¶é‡ç»˜ä»¥è§¦å‘ transition
                void modal.offsetWidth;
                modal.classList.remove('opacity-0');
                modal.querySelector('div').classList.remove('scale-95');
                modal.querySelector('div').classList.add('scale-100');
            } else {
                modal.classList.add('opacity-0');
                modal.querySelector('div').classList.remove('scale-100');
                modal.querySelector('div').classList.add('scale-95');
                setTimeout(() => {
                    modal.classList.add('hidden');
                }, 300);
            }
        }
    </script>
</body>
</html>